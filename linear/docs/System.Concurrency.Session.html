<!DOCTYPE html><html lang="en">

<head>
  <meta charset="utf-8">
  <title>System.Concurrency.Session</title>
  <link rel="stylesheet" type="text/css" id="preferredStyle" href="../default.css">
  <script>
    /* Updates the stylesheet to use the preferred one.
       Note that we set the link to root ++ sourceLoc because the config
       is shared across the whole website, so the root may differ from
       page to page.
    */
    function setStyleSource (sourceLoc) {
      document.getElementById("preferredStyle").href = "../" + sourceLoc + ".css";
      document.getElementById("selectPreferredStyle").value = sourceLoc;
    }
    /* Initialises the preferred style sheet:
       1. if there is a stored value then use that
          otherwise select the default
       2. set both the css link href & the drop down menu selected option
    */
    function initStyleSource () {
      var preferredStyle = localStorage.getItem("stylefile");
      if (preferredStyle !== null) {
        setStyleSource(preferredStyle);
      } else {
        setStyleSource("default");
      };
    }
    function saveStyleSource (preferredStyle) {
      localStorage.stylefile = preferredStyle;
    }
    </script>
</head>

<body class="namespace">
<header>
  <strong>Idris2Doc</strong> : System.Concurrency.Session
  <nav><a href="../index.html">Index</a>

  <select id="selectPreferredStyle">
    <option value="default">Default</option>
<option value="alternative">Alternative</option>
<option value="blackandwhite">Black & White</option>

  </select>
  </nav>

  <script>
  /* We start by initialising the style source */
  initStyleSource();

  /* This listens for changes on the drop down menu and updates the
     css used for the current page when a selection is made.
  */
  document.getElementById("selectPreferredStyle").addEventListener("change", function(){
    var selected = this.options[this.selectedIndex].value; /* the option chosen */
    setStyleSource (selected);
    saveStyleSource (selected);
  });
</script>

</header>
<div class="container"><div id="module-header"><h1>System.Concurrency.Session<span style="float:right">(<a href="../source/System.Concurrency.Session.html">source</a>)</span></h1><pre></pre></div><code></code><h2>Definitions</h2><dl class="decls"><dt id="System.Concurrency.Session.Session.Session"><code><span class="keyword">data</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd><pre>  A session type describes the interactions one thread may have with<br>  another over a shared bidirectional channel: it may send or receive<br>  values of arbitrary types, or be done communicating.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructors</b>:<br><dl class="decls">  <dt id="System.Concurrency.Session.Session.Send"><code><span class="type resolved" title="System.Concurrency.Session.Session.Send"><span class="name constructor">Send</span></span>&ensp;:&ensp;<span class="name type">Type</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span></code></dt>  <dt id="System.Concurrency.Session.Session.Recv"><code><span class="type resolved" title="System.Concurrency.Session.Session.Recv"><span class="name constructor">Recv</span></span>&ensp;:&ensp;<span class="name type">Type</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span></code></dt>  <dt id="System.Concurrency.Session.Session.End"><code><span class="type resolved" title="System.Concurrency.Session.Session.End"><span class="name constructor">End</span></span>&ensp;:&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span></code></dt></dl></dd><dt id="System.Concurrency.Session.Session.Dual"><code><span class="type resolved" title="System.Concurrency.Session.Session.Dual"><span class="name function">Dual</span></span>&ensp;:&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span></code></dt><dd><pre>  Dual describes how the other party to the communication sees the<br>  interactions: our sends become their receives and vice-versa.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="System.Concurrency.Session.Session.dualInvolutive"><code><span class="type resolved" title="System.Concurrency.Session.Session.dualInvolutive"><span class="name function">dualInvolutive</span></span>&ensp;:&ensp;(<span class="boundvar">s</span>&ensp;:&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Dual"><span class="name function">Dual</span></span>&ensp;(<span class="type resolved" title="System.Concurrency.Session.Session.Dual"><span class="name function">Dual</span></span>&ensp;<span class="boundvar">s</span>)&ensp;<span class="keyword">=</span>&ensp;<span class="boundvar">s</span></code></dt><dd><pre>  Duality is involutive: the dual of my dual is me</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.Concurrency.Session.Seen.Seen"><code><span class="keyword">data</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Seen.Seen"><span class="name type">Seen</span></span>&ensp;:&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;(<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Type</span></code></dt><dd><pre>  The inductive family (Seen m n f) states that the function `f`<br>  was obtained by composing an interleaving of `m` receiving<br>  steps and `n` sending ones.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructors</b>:<br><dl class="decls">  <dt id="System.Concurrency.Session.Seen.None"><code><span class="type resolved" title="System.Concurrency.Session.Seen.None"><span class="name constructor">None</span></span>&ensp;:&ensp;<span class="type resolved" title="System.Concurrency.Session.Seen.Seen"><span class="name type">Seen</span></span>&ensp;<span class="name constructor">0</span>&ensp;<span class="name constructor">0</span>&ensp;<span class="type resolved" title="Prelude.Basics.id"><span class="name function">id</span></span></code></dt>  <dt id="System.Concurrency.Session.Seen.Recv"><code><span class="type resolved" title="System.Concurrency.Session.Seen.Recv"><span class="name constructor">Recv</span></span>&ensp;:&ensp;(<span class="boundvar">ty</span>&ensp;:&ensp;<span class="name type">Type</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Seen.Seen"><span class="name type">Seen</span></span>&ensp;<span class="boundvar">m</span>&ensp;<span class="boundvar">n</span>&ensp;<span class="boundvar">f</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Seen.Seen"><span class="name type">Seen</span></span>&ensp;(<span class="type resolved" title="Prelude.Types.S"><span class="name constructor">S</span></span>&ensp;<span class="boundvar">m</span>)&ensp;<span class="boundvar">n</span>&ensp;(<span class="boundvar">f</span>&ensp;<span class="type resolved" title="Prelude.Basics.(.)"><span class="name function">.</span></span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Recv"><span class="name constructor">Recv</span></span>&ensp;<span class="boundvar">ty</span>)</code></dt>  <dt id="System.Concurrency.Session.Seen.Send"><code><span class="type resolved" title="System.Concurrency.Session.Seen.Send"><span class="name constructor">Send</span></span>&ensp;:&ensp;(<span class="boundvar">ty</span>&ensp;:&ensp;<span class="name type">Type</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Seen.Seen"><span class="name type">Seen</span></span>&ensp;<span class="boundvar">m</span>&ensp;<span class="boundvar">n</span>&ensp;<span class="boundvar">f</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Seen.Seen"><span class="name type">Seen</span></span>&ensp;<span class="boundvar">m</span>&ensp;(<span class="type resolved" title="Prelude.Types.S"><span class="name constructor">S</span></span>&ensp;<span class="boundvar">n</span>)&ensp;(<span class="boundvar">f</span>&ensp;<span class="type resolved" title="Prelude.Basics.(.)"><span class="name function">.</span></span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Send"><span class="name constructor">Send</span></span>&ensp;<span class="boundvar">ty</span>)</code></dt></dl></dd><dt id="System.Concurrency.Session.Channel"><code><span class="keyword">record</span>&ensp;<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;:&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Type</span></code></dt><dd><pre>  A (bidirectional) channel is parametrised by a session it must respect.<br>  <br>  It is implemented in terms of two low-level channels: one for sending<br>  and one for receiving. This ensures that we never are in a situation<br>  where a thread with session (Send Nat (Recv String ...)) sends a natural<br>  number and subsequently performs a receive before the other party<br>  to the communication had time to grab the Nat thus receiving it<br>  instead of a String.<br>  <br>  The low-level channels can only carry values of a single type. And so<br>  they are given respective union types corresponding to the types that<br>  can be sent on the one hand and the ones that can be received on the<br>  other.<br>  These union types are tagged unions where if `ty` is at index `k` in<br>  the list of types `tys` then `(k, v)` is a value of `Union tys` provided<br>  that `v` has type `ty`.<br>  <br>  `sendStep`, `recvStep`, `seePrefix`, and `seen` encode the fact that<br>  we have already performed some of the protocol and so the low-level<br>  channels&apos; respective types necessarily mention types that we won&apos;t<br>  see anymore.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span><br>  <b>Constructor</b>:&ensp;<dl class="decls"><dt id="System.Concurrency.Session.MkChannel"><code><a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.MkChannel"><span class="name constructor">MkChannel</span></a>&ensp;:&ensp;(<span class="keyword">0</span>&ensp;<span class="boundvar">_</span>&ensp;:&ensp;<span class="type resolved" title="System.Concurrency.Session.Seen.Seen"><span class="name type">Seen</span></span>&ensp;<span class="boundvar">recvStep</span>&ensp;<span class="boundvar">sendStep</span>&ensp;<span class="boundvar">seenPrefix</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Channel"><span class="name type">Channel</span></span>&ensp;(<span class="type resolved" title="Data.OpenUnion.Union"><span class="name function">Union</span></span>&ensp;(<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.SendTypes"><span class="name function">SendTypes</span></a>&ensp;(<span class="boundvar">seenPrefix</span>&ensp;<span class="boundvar">s</span>)))&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Channel"><span class="name type">Channel</span></span>&ensp;(<span class="type resolved" title="Data.OpenUnion.Union"><span class="name function">Union</span></span>&ensp;(<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.RecvTypes"><span class="name function">RecvTypes</span></a>&ensp;(<span class="boundvar">seenPrefix</span>&ensp;<span class="boundvar">s</span>)))&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="boundvar">s</span></code></dt></dl><br>  <b>Projections</b>:<br><dl class="decls">  <dt id="System.Concurrency.Session.Channel.(.recvChan)"><code><span class="type resolved" title="System.Concurrency.Session.Channel.(.recvChan)"><span class="name function">.recvChan</span></span>&ensp;:&ensp;(<span class="boundvar">{rec:0}</span>&ensp;:&ensp;<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="boundvar">s</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Channel"><span class="name type">Channel</span></span>&ensp;(<span class="type resolved" title="Data.OpenUnion.Union"><span class="name function">Union</span></span>&ensp;(<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.RecvTypes"><span class="name function">RecvTypes</span></a>&ensp;(<span class="type resolved" title="System.Concurrency.Session.Channel.seenPrefix"><span class="name function">seenPrefix</span></span>&ensp;<span class="boundvar">{rec:0}</span>&ensp;<span class="boundvar">s</span>)))</code></dt>  <dt id="System.Concurrency.Session.Channel.(.recvStep)"><code><span class="type resolved" title="System.Concurrency.Session.Channel.(.recvStep)"><span class="name function">.recvStep</span></span>&ensp;:&ensp;<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="boundvar">s</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span></code></dt>  <dt id="System.Concurrency.Session.Channel.(.seen)"><code><span class="keyword">0</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Channel.(.seen)"><span class="name function">.seen</span></span>&ensp;:&ensp;(<span class="boundvar">{rec:0}</span>&ensp;:&ensp;<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="boundvar">s</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Seen.Seen"><span class="name type">Seen</span></span>&ensp;(<span class="type resolved" title="System.Concurrency.Session.Channel.recvStep"><span class="name function">recvStep</span></span>&ensp;<span class="boundvar">{rec:0}</span>)&ensp;(<span class="type resolved" title="System.Concurrency.Session.Channel.sendStep"><span class="name function">sendStep</span></span>&ensp;<span class="boundvar">{rec:0}</span>)&ensp;(<span class="type resolved" title="System.Concurrency.Session.Channel.seenPrefix"><span class="name function">seenPrefix</span></span>&ensp;<span class="boundvar">{rec:0}</span>)</code></dt>  <dt id="System.Concurrency.Session.Channel.(.seenPrefix)"><code><span class="keyword">0</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Channel.(.seenPrefix)"><span class="name function">.seenPrefix</span></span>&ensp;:&ensp;<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="boundvar">s</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span></code></dt>  <dt id="System.Concurrency.Session.Channel.(.sendChan)"><code><span class="type resolved" title="System.Concurrency.Session.Channel.(.sendChan)"><span class="name function">.sendChan</span></span>&ensp;:&ensp;(<span class="boundvar">{rec:0}</span>&ensp;:&ensp;<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="boundvar">s</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Channel"><span class="name type">Channel</span></span>&ensp;(<span class="type resolved" title="Data.OpenUnion.Union"><span class="name function">Union</span></span>&ensp;(<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.SendTypes"><span class="name function">SendTypes</span></a>&ensp;(<span class="type resolved" title="System.Concurrency.Session.Channel.seenPrefix"><span class="name function">seenPrefix</span></span>&ensp;<span class="boundvar">{rec:0}</span>&ensp;<span class="boundvar">s</span>)))</code></dt>  <dt id="System.Concurrency.Session.Channel.(.sendStep)"><code><span class="type resolved" title="System.Concurrency.Session.Channel.(.sendStep)"><span class="name function">.sendStep</span></span>&ensp;:&ensp;<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="boundvar">s</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span></code></dt></dl></dd><dt id="System.Concurrency.Session.recv"><code><a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.recv"><span class="name function">recv</span></a>&ensp;:&ensp;<a class="type" href="Control.Linear.LIO.html#Control.Linear.LIO.LinearIO"><span class="name function">LinearIO</span></a>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;(<span class="type resolved" title="System.Concurrency.Session.Session.Recv"><span class="name constructor">Recv</span></span>&ensp;<span class="boundvar">ty</span>&ensp;<span class="boundvar">s</span>)&ensp;<a class="type" href="Data.Linear.Notation.html#Data.Linear.Notation.(-@)"><span class="name function">-@</span></a>&ensp;<a class="type" href="Control.Linear.LIO.html#Control.Linear.LIO.L1"><span class="name function">L1</span></a>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Builtin.DPair.Res"><span class="name type">Res</span></span>&ensp;<span class="boundvar">ty</span>&ensp;(<span class="type resolved" title="Prelude.Basics.const"><span class="name function">const</span></span>&ensp;(<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="boundvar">s</span>)))</code></dt><dd><pre>  Consume a linear channel with a `Recv ty` step at the head of the<br>  session type in order to obtain a value of type `ty` together with<br>  a linear channel for the rest of the session.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.Concurrency.Session.send"><code><a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.send"><span class="name function">send</span></a>&ensp;:&ensp;<a class="type" href="Control.Linear.LIO.html#Control.Linear.LIO.LinearIO"><span class="name function">LinearIO</span></a>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;(<span class="keyword">1</span>&ensp;<span class="boundvar">_</span>&ensp;:&ensp;<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;(<span class="type resolved" title="System.Concurrency.Session.Session.Send"><span class="name constructor">Send</span></span>&ensp;<span class="boundvar">ty</span>&ensp;<span class="boundvar">s</span>))&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">ty</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Control.Linear.LIO.html#Control.Linear.LIO.L1"><span class="name function">L1</span></a>&ensp;<span class="boundvar">io</span>&ensp;(<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="boundvar">s</span>)</code></dt><dd><pre>  Consume a linear channel with a `Send ty` step at the head of the<br>  session type in order to send a value of type `ty` and obtain a<br>  linear channel for the rest of the session.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.Concurrency.Session.end"><code><a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.end"><span class="name function">end</span></a>&ensp;:&ensp;<a class="type" href="Control.Linear.LIO.html#Control.Linear.LIO.LinearIO"><span class="name function">LinearIO</span></a>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.End"><span class="name constructor">End</span></span>&ensp;<a class="type" href="Data.Linear.Notation.html#Data.Linear.Notation.(-@)"><span class="name function">-@</span></a>&ensp;<a class="type" href="Control.Linear.LIO.html#Control.Linear.LIO.L"><span class="name type">L</span></a>&ensp;<span class="boundvar">io</span>&ensp;()</code></dt><dd><pre>  Discard the channel provided that the session has reached its `End`.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.Concurrency.Session.makeChannel"><code><a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.makeChannel"><span class="name function">makeChannel</span></a>&ensp;:&ensp;<a class="type" href="Control.Linear.LIO.html#Control.Linear.LIO.LinearIO"><span class="name function">LinearIO</span></a>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;(<span class="keyword">0</span>&ensp;<span class="boundvar">s</span>&ensp;:&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Control.Linear.LIO.html#Control.Linear.LIO.L1"><span class="name function">L1</span></a>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Builtin.LPair"><span class="name type">LPair</span></span>&ensp;(<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="boundvar">s</span>)&ensp;(<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;(<span class="type resolved" title="System.Concurrency.Session.Session.Dual"><span class="name function">Dual</span></span>&ensp;<span class="boundvar">s</span>)))</code></dt><dd><pre>  Given a session, create a bidirectional communication channel and<br>  return its two endpoints</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.Concurrency.Session.fork"><code><a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.fork"><span class="name function">fork</span></a>&ensp;:&ensp;(<span class="keyword">0</span>&ensp;<span class="boundvar">s</span>&ensp;:&ensp;<span class="type resolved" title="System.Concurrency.Session.Session.Session"><span class="name type">Session</span></span>)&ensp;<span class="keyword">-&gt;</span>&ensp;(<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;<span class="boundvar">s</span>&ensp;<a class="type" href="Data.Linear.Notation.html#Data.Linear.Notation.(-@)"><span class="name function">-@</span></a>&ensp;<a class="type" href="Control.Linear.LIO.html#Control.Linear.LIO.L"><span class="name type">L</span></a>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;<span class="boundvar">a</span>)&ensp;<a class="type" href="Data.Linear.Notation.html#Data.Linear.Notation.(-@)"><span class="name function">-@</span></a>&ensp;((<a class="type" href="System.Concurrency.Session.html#System.Concurrency.Session.Channel"><span class="name type">Channel</span></a>&ensp;(<span class="type resolved" title="System.Concurrency.Session.Session.Dual"><span class="name function">Dual</span></span>&ensp;<span class="boundvar">s</span>)&ensp;<a class="type" href="Data.Linear.Notation.html#Data.Linear.Notation.(-@)"><span class="name function">-@</span></a>&ensp;<a class="type" href="Control.Linear.LIO.html#Control.Linear.LIO.L"><span class="name type">L</span></a>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;<span class="boundvar">b</span>)&ensp;<a class="type" href="Data.Linear.Notation.html#Data.Linear.Notation.(-@)"><span class="name function">-@</span></a>&ensp;<a class="type" href="Control.Linear.LIO.html#Control.Linear.LIO.L"><span class="name type">L</span></a>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;(<span class="boundvar">a</span>,&ensp;<span class="boundvar">b</span>))</code></dt><dd><pre>  Given a session and two functions communicating according to that<br>  session, we can run the two programs concurrently and collect their<br>  final results.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd></dl></div><footer>Produced by Idris 2 version 0.7.0-6c6ee58eb</footer></body></html>