. ../../testutils.sh

# @readFilePage@ uses primitive functions with definitions for both
# C (supported by most backends) and Node.
idris2 --cg chez ReadFilePage.idr < input
idris2 --cg node ReadFilePage.idr < input

# The following backends failed for reasons unrelated to this test. They can be
# uncommented at a future date.
# RACKET failed to find the builtin idris support library
# idris2 --cg racket ReadFilePage.idr < input
# REFC doesn't support :exec yet
# idris2 --cg refc ReadFilePage.idr < input
# GAMBIT hung seemingly indefinitely
# idris2 --cg gambit ReadFilePage.idr < input
