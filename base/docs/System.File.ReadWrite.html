<!DOCTYPE html><html lang="en">

<head>
  <meta charset="utf-8">
  <title>System.File.ReadWrite</title>
  <link rel="stylesheet" type="text/css" id="preferredStyle" href="../default.css">
  <script>
    /* Updates the stylesheet to use the preferred one.
       Note that we set the link to root ++ sourceLoc because the config
       is shared across the whole website, so the root may differ from
       page to page.
    */
    function setStyleSource (sourceLoc) {
      document.getElementById("preferredStyle").href = "../" + sourceLoc + ".css";
      document.getElementById("selectPreferredStyle").value = sourceLoc;
    }
    /* Initialises the preferred style sheet:
       1. if there is a stored value then use that
          otherwise select the default
       2. set both the css link href & the drop down menu selected option
    */
    function initStyleSource () {
      var preferredStyle = localStorage.getItem("stylefile");
      if (preferredStyle !== null) {
        setStyleSource(preferredStyle);
      } else {
        setStyleSource("default");
      };
    }
    function saveStyleSource (preferredStyle) {
      localStorage.stylefile = preferredStyle;
    }
    </script>
</head>

<body class="namespace">
<header>
  <strong>Idris2Doc</strong> : System.File.ReadWrite
  <nav><a href="../index.html">Index</a>

  <select id="selectPreferredStyle">
    <option value="default">Default</option>
<option value="alternative">Alternative</option>
<option value="blackandwhite">Black & White</option>

  </select>
  </nav>

  <script>
  /* We start by initialising the style source */
  initStyleSource();

  /* This listens for changes on the drop down menu and updates the
     css used for the current page when a selection is made.
  */
  document.getElementById("selectPreferredStyle").addEventListener("change", function(){
    var selected = this.options[this.selectedIndex].value; /* the option chosen */
    setStyleSource (selected);
    saveStyleSource (selected);
  });
</script>

</header>
<div class="container"><div id="module-header"><h1>System.File.ReadWrite<span style="float:right">(<a href="../source/System.File.ReadWrite.html">source</a>)</span></h1><pre></pre></div><h2>Reexports</h2><code><span class="keyword">import</span>&ensp;<span class="keyword">public</span>&ensp;Data.Fuel<br><span class="keyword">import</span>&ensp;<span class="keyword">public</span>&ensp;System.File.Error<br><span class="keyword">import</span>&ensp;<span class="keyword">public</span>&ensp;System.File.Types</code><h2>Definitions</h2><dl class="decls"><dt id="System.File.ReadWrite.fSeekLine"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.fSeekLine"><span class="name function">fSeekLine</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="System.File.Types.html#System.File.Types.File"><span class="name type">File</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;())</code></dt><dd><pre>  Seek through the next newline.<br>  This is @fGetLine@ without the overhead of copying<br>  any characters.<br>  <br>  @ h the file handle to seek through</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.getStringAndFree"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.getStringAndFree"><span class="name function">getStringAndFree</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="System.File.Types.html#System.File.Types.File"><span class="name type">File</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.Ptr"><span class="name type">Ptr</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;<span class="name type">String</span>)</code></dt><dd><pre>  Get a garbage collected String from a Ptr String and and free the original</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.fGetLine"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.fGetLine"><span class="name function">fGetLine</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="System.File.Types.html#System.File.Types.File"><span class="name type">File</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;<span class="name type">String</span>)</code></dt><dd><pre>  Get the next line from the given file handle, returning the empty string if<br>  nothing was read.<br>  <br>  @ h the file handle to get the line from</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.fGetChars"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.fGetChars"><span class="name function">fGetChars</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="System.File.Types.html#System.File.Types.File"><span class="name type">File</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Int</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;<span class="name type">String</span>)</code></dt><dd><pre>  Get a number of characters from the given file handle.<br>  <br>  @ h   the file handle to read from<br>  @ max the number of characters to read</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.fGetChar"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.fGetChar"><span class="name function">fGetChar</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="System.File.Types.html#System.File.Types.File"><span class="name type">File</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;<span class="name type">Char</span>)</code></dt><dd><pre>  Get the next character from the given file handle.<br>  <br>  @ h the file handle to read from</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.fPutStr"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.fPutStr"><span class="name function">fPutStr</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="System.File.Types.html#System.File.Types.File"><span class="name type">File</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;())</code></dt><dd><pre>  Write the given string to the file handle.<br>  <br>  @ h   the file handle to write to<br>  @ str the string to write</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.fPutStrLn"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.fPutStrLn"><span class="name function">fPutStrLn</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="System.File.Types.html#System.File.Types.File"><span class="name type">File</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;())</code></dt><dd><pre>  Write the given string, followed by a newline, to the file handle.<br>  <br>  @ fh  the file handle to write to<br>  @ str the string to write</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.fEOF"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.fEOF"><span class="name function">fEOF</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="System.File.Types.html#System.File.Types.File"><span class="name type">File</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Check whether the end-of-file indicator for the given file handle is set.<br>  <br>  @ h the file handle to check</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.fRead"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.fRead"><span class="name function">fRead</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="System.File.Types.html#System.File.Types.File"><span class="name type">File</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;<span class="name type">String</span>)</code></dt><dd><pre>  Read all the remaining contents of a file handle</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.removeFile"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.removeFile"><span class="name function">removeFile</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;())</code></dt><dd><pre>  Delete the file at the given name.<br>  <br>  @ fname the file to delete</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.readFilePage"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.readFilePage"><span class="name function">readFilePage</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Data.Fuel.html#Data.Fuel.Fuel"><span class="name type">Fuel</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;(<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>,&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span>))</code></dt><dd><pre>  Read a chunk of a file in a line-delimited fashion.<br>  You can use this function to read an entire file<br>  as with @readFile@ by reading until @forever@ or by<br>  iterating through pages until hitting the end of<br>  the file.<br>  <br>  The @limit@ function can provide you with enough<br>  fuel to read exactly a given number of lines.<br>  <br>  On success, returns a tuple of whether the end of<br>  the file was reached or not and the lines read in<br>  from the file.<br>  <br>  Note that each line will still have a newline<br>  character at the end.<br>  <br>  Important: because we are chunking by lines, this<br>  function&apos;s totality depends on the assumption that<br>  no single line in the input file is infinite.<br>  <br>  @ offset the offset to start reading at<br>  @ until  the `Fuel` limiting how far we can read<br>  @ fname  the name of the file to read</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.readFile"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.readFile"><span class="name function">readFile</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;<span class="name type">String</span>)</code></dt><dd><pre>  Read the entire file at the given name. This function is `partial` since<br>  there is no guarantee that the given file isn&apos;t infinite.<br>  <br>  @ fname the name of the file to read</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.writeFile"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.writeFile"><span class="name function">writeFile</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;())</code></dt><dd><pre>  Write the given string to the file at the specified name. Opens the file<br>  with the `WriteTruncate` mode.<br>  (If you have a file handle (a `File`), you may be looking for `fPutStr`.)<br>  <br>  @ filePath the file to write to<br>  @ contents the string to write to the file</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="System.File.ReadWrite.appendFile"><code><a class="type" href="System.File.ReadWrite.html#System.File.ReadWrite.appendFile"><span class="name function">appendFile</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<a class="type" href="System.File.Error.html#System.File.Error.FileError"><span class="name type">FileError</span></a>&ensp;())</code></dt><dd><pre>  Append the given string to the file at the specified name. Opens the file in<br>  with the `Append` mode.<br>  <br>  @ filePath the file to write to<br>  @ contents the string to write to the file</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd></dl></div><footer>Produced by Idris 2 version 0.7.0-73bb183cc</footer></body></html>