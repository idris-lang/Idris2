<!DOCTYPE html><html lang="en">

<head>
  <meta charset="utf-8">
  <title>Test.Golden</title>
  <link rel="stylesheet" type="text/css" id="preferredStyle" href="../default.css">
  <script>
    /* Updates the stylesheet to use the preferred one.
       Note that we set the link to root ++ sourceLoc because the config
       is shared across the whole website, so the root may differ from
       page to page.
    */
    function setStyleSource (sourceLoc) {
      document.getElementById("preferredStyle").href = "../" + sourceLoc + ".css";
      document.getElementById("selectPreferredStyle").value = sourceLoc;
    }
    /* Initialises the preferred style sheet:
       1. if there is a stored value then use that
          otherwise select the default
       2. set both the css link href & the drop down menu selected option
    */
    function initStyleSource () {
      var preferredStyle = localStorage.getItem("stylefile");
      if (preferredStyle !== null) {
        setStyleSource(preferredStyle);
      } else {
        setStyleSource("default");
      };
    }
    function saveStyleSource (preferredStyle) {
      localStorage.stylefile = preferredStyle;
    }
    </script>
</head>

<body class="namespace">
<header>
  <strong>Idris2Doc</strong> : Test.Golden
  <nav><a href="../index.html">Index</a>

  <select id="selectPreferredStyle">
    <option value="default">Default</option>
<option value="alternative">Alternative</option>
<option value="blackandwhite">Black & White</option>

  </select>
  </nav>

  <script>
  /* We start by initialising the style source */
  initStyleSource();

  /* This listens for changes on the drop down menu and updates the
     css used for the current page when a selection is made.
  */
  document.getElementById("selectPreferredStyle").addEventListener("change", function(){
    var selected = this.options[this.selectedIndex].value; /* the option chosen */
    setStyleSource (selected);
    saveStyleSource (selected);
  });
</script>

</header>
<div class="container"><div id="module-header"><h1>Test.Golden<span style="float:right">(<a href="../source/Test.Golden.html">source</a>)</span></h1><pre>Core features required to perform Golden file testing.

We provide the core functionality to run a *single* golden file test, or
a whole test tree.
This allows the developer freedom to use as is or design the rest of the
test harness to their liking.

This was originally used as part of Idris2&apos;s own test suite and
the core functionality is useful for the many and not the few.
Please see Idris2 test harness for example usage.

# Test Structure

This harness works from the assumption that each individual golden test
comprises of a directory with the following structure:

+ `run` a *shell* script that runs the test. We expect it to:
  * Use `$1` as the variable standing for the idris executable to be tested
  * May use `${IDRIS2_TESTS_CG}` to pick a codegen that ought to work
  * Clean up after itself (e.g. by running `rm -rf build/`)

+ `expected` a file containing the expected output of `run`

During testing, the test harness will generate an artefact named `output`
and display both outputs if there is a failure.
During an interactive session the following command is used to compare them
as they are:

```sh
 git diff --no-index --exit-code --word-diff-regex=. --color expected output
```

If `git` fails then the runner will simply present the expected and &apos;given&apos;
files side-by-side.

Of note, it is helpful to add `output` to a local `.gitignore` instance
to ensure that it is not mistakenly versioned.

# Options

The test harness has several options that may be set:

+ `idris2`       The path of the executable we are testing.
+ `codegen`      The backend to use for code generation.
+ `onlyNames`    The tests to run relative to the generated executable.
+ `onlyFile`     The file listing the tests to run relative to the generated executable.
+ `interactive`  Whether to offer to update the expected file or not.
+ `timing`       Whether to display time taken for each test.
+ `threads`      The maximum numbers to use (default: number of cores).
+ `failureFile`  The file in which to write the list of failing tests.

We provide an options parser (`options`) that takes the list of command line
arguments and constructs this for you.

# Usage

When compiled to an executable the expected usage is:

```sh
runtests &lt;path to executable under test&gt;
  [--timing]
  [--interactive]
  [--only-file PATH]
  [--failure-file PATH]
  [--threads N]
  [--cg CODEGEN]
  [[--only|--except] [NAMES]]
```

assuming that the test runner is compiled to an executable named `runtests`.
</pre></div><code></code><h2>Definitions</h2><dl class="decls"><dt id="Test.Golden.Options"><code><span class="keyword">record</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd><pre>  Options for the test driver.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructor</b>:&ensp;<dl class="decls"><dt id="Test.Golden.MkOptions"><code><a class="type" href="Test.Golden.html#Test.Golden.MkOptions"><span class="name constructor">MkOptions</span></a>&ensp;:&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;(<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a></code></dt></dl><br>  <b>Projections</b>:<br><dl class="decls">  <dt id="Test.Golden.Options.(.codegen)"><code><span class="type resolved" title="Test.Golden.Options.(.codegen)"><span class="name function">.codegen</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Which codegen should we use?</pre></dd>  <dt id="Test.Golden.Options.(.color)"><code><span class="type resolved" title="Test.Golden.Options.(.color)"><span class="name function">.color</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Should we use colors?</pre></dd>  <dt id="Test.Golden.Options.(.exeUnderTest)"><code><span class="type resolved" title="Test.Golden.Options.(.exeUnderTest)"><span class="name function">.exeUnderTest</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Name of the idris2 executable</pre></dd>  <dt id="Test.Golden.Options.(.failureFile)"><code><span class="type resolved" title="Test.Golden.Options.(.failureFile)"><span class="name function">.failureFile</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Should we write the list of failing cases to a file?</pre></dd>  <dt id="Test.Golden.Options.(.interactive)"><code><span class="type resolved" title="Test.Golden.Options.(.interactive)"><span class="name function">.interactive</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Should we run the test suite interactively?</pre></dd>  <dt id="Test.Golden.Options.(.onlyNames)"><code><span class="type resolved" title="Test.Golden.Options.(.onlyNames)"><span class="name function">.onlyNames</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;(<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>)</code></dt><dd><pre>  Should we only run some specific cases?</pre></dd>  <dt id="Test.Golden.Options.(.threads)"><code><span class="type resolved" title="Test.Golden.Options.(.threads)"><span class="name function">.threads</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span></code></dt><dd><pre>  How many threads should we use?</pre></dd>  <dt id="Test.Golden.Options.(.timing)"><code><span class="type resolved" title="Test.Golden.Options.(.timing)"><span class="name function">.timing</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Should we time and display the tests</pre></dd></dl></dd><dt id="Test.Golden.Options.(.exeUnderTest)"><code><span class="type resolved" title="Test.Golden.Options.(.exeUnderTest)"><span class="name function">.exeUnderTest</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Name of the idris2 executable</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.exeUnderTest"><code><span class="type resolved" title="Test.Golden.Options.exeUnderTest"><span class="name function">exeUnderTest</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Name of the idris2 executable</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.(.codegen)"><code><span class="type resolved" title="Test.Golden.Options.(.codegen)"><span class="name function">.codegen</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Which codegen should we use?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.codegen"><code><span class="type resolved" title="Test.Golden.Options.codegen"><span class="name function">codegen</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Which codegen should we use?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.(.onlyNames)"><code><span class="type resolved" title="Test.Golden.Options.(.onlyNames)"><span class="name function">.onlyNames</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;(<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>)</code></dt><dd><pre>  Should we only run some specific cases?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.onlyNames"><code><span class="type resolved" title="Test.Golden.Options.onlyNames"><span class="name function">onlyNames</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;(<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>)</code></dt><dd><pre>  Should we only run some specific cases?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.(.interactive)"><code><span class="type resolved" title="Test.Golden.Options.(.interactive)"><span class="name function">.interactive</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Should we run the test suite interactively?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.interactive"><code><span class="type resolved" title="Test.Golden.Options.interactive"><span class="name function">interactive</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Should we run the test suite interactively?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.(.color)"><code><span class="type resolved" title="Test.Golden.Options.(.color)"><span class="name function">.color</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Should we use colors?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.color"><code><span class="type resolved" title="Test.Golden.Options.color"><span class="name function">color</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Should we use colors?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.(.timing)"><code><span class="type resolved" title="Test.Golden.Options.(.timing)"><span class="name function">.timing</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Should we time and display the tests</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.timing"><code><span class="type resolved" title="Test.Golden.Options.timing"><span class="name function">timing</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Should we time and display the tests</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.(.threads)"><code><span class="type resolved" title="Test.Golden.Options.(.threads)"><span class="name function">.threads</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span></code></dt><dd><pre>  How many threads should we use?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.threads"><code><span class="type resolved" title="Test.Golden.Options.threads"><span class="name function">threads</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span></code></dt><dd><pre>  How many threads should we use?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.(.failureFile)"><code><span class="type resolved" title="Test.Golden.Options.(.failureFile)"><span class="name function">.failureFile</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Should we write the list of failing cases to a file?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Options.failureFile"><code><span class="type resolved" title="Test.Golden.Options.failureFile"><span class="name function">failureFile</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Should we write the list of failing cases to a file?</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.initOptions"><code><a class="type" href="Test.Golden.html#Test.Golden.initOptions"><span class="name function">initOptions</span></a>&ensp;:&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.usage"><code><a class="type" href="Test.Golden.html#Test.Golden.usage"><span class="name function">usage</span></a>&ensp;:&ensp;<span class="name type">String</span></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.options"><code><a class="type" href="Test.Golden.html#Test.Golden.options"><span class="name function">options</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>)</code></dt><dd><pre>  Process the command line options.</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.runTest"><code><a class="type" href="Test.Golden.html#Test.Golden.runTest"><span class="name function">runTest</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Result"><span class="name function">Result</span></a></code></dt><dd><pre>  Run the specified Golden test with the supplied options.<br>  See the module documentation for more information.<br>  @testPath the directory that contains the test.</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.pathLookup"><code><a class="type" href="Test.Golden.html#Test.Golden.pathLookup"><span class="name function">pathLookup</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span>)</code></dt><dd><pre>  Find the first occurrence of an executable on `PATH`.</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.Requirement"><code><span class="keyword">record</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd><pre>  A test requirement. The String value returned from `satisfy` witnesses requirement.<br>  Return Nothing to indicate the requirement is not met and tests relying on it<br>  should be skipped.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructor</b>:&ensp;<dl class="decls"><dt id="Test.Golden.MkReq"><code><a class="type" href="Test.Golden.html#Test.Golden.MkReq"><span class="name constructor">MkReq</span></a>&ensp;:&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt></dl><br>  <b>Projections</b>:<br><dl class="decls">  <dt id="Test.Golden.Requirement.(.name)"><code><span class="type resolved" title="Test.Golden.Requirement.(.name)"><span class="name function">.name</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span></code></dt>  <dt id="Test.Golden.Requirement.(.satisfy)"><code><span class="type resolved" title="Test.Golden.Requirement.(.satisfy)"><span class="name function">.satisfy</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span>)</code></dt></dl><br>  <b>Hints</b>:<br><dl class="decls">  <dt id="$resolved441"><code><span class="type resolved" title="Prelude.EqOrd.Eq"><span class="name type">Eq</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt>  <dt id="$resolved438"><code><span class="type resolved" title="Prelude.Show.Show"><span class="name type">Show</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt></dl></dd><dt id="Test.Golden.Requirement.(.name)"><code><span class="type resolved" title="Test.Golden.Requirement.(.name)"><span class="name function">.name</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Requirement.name"><code><span class="type resolved" title="Test.Golden.Requirement.name"><span class="name function">name</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Requirement.(.satisfy)"><code><span class="type resolved" title="Test.Golden.Requirement.(.satisfy)"><span class="name function">.satisfy</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span>)</code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Requirement.satisfy"><code><span class="type resolved" title="Test.Golden.Requirement.satisfy"><span class="name function">satisfy</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span>)</code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.BackendRequirement"><code><span class="keyword">data</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.BackendRequirement"><span class="name type">BackendRequirement</span></a>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd><pre>  Some test may involve Idris&apos; backends and have requirements.<br>  We define here the ones supported by Idris</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructors</b>:<br><dl class="decls">  <dt id="Test.Golden.ReqC"><code><a class="type" href="Test.Golden.html#Test.Golden.ReqC"><span class="name constructor">ReqC</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.BackendRequirement"><span class="name type">BackendRequirement</span></a></code></dt>  <dt id="Test.Golden.ReqChez"><code><a class="type" href="Test.Golden.html#Test.Golden.ReqChez"><span class="name constructor">ReqChez</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.BackendRequirement"><span class="name type">BackendRequirement</span></a></code></dt>  <dt id="Test.Golden.ReqNodeJS"><code><a class="type" href="Test.Golden.html#Test.Golden.ReqNodeJS"><span class="name constructor">ReqNodeJS</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.BackendRequirement"><span class="name type">BackendRequirement</span></a></code></dt>  <dt id="Test.Golden.ReqRacket"><code><a class="type" href="Test.Golden.html#Test.Golden.ReqRacket"><span class="name constructor">ReqRacket</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.BackendRequirement"><span class="name type">BackendRequirement</span></a></code></dt>  <dt id="Test.Golden.ReqGambit"><code><a class="type" href="Test.Golden.html#Test.Golden.ReqGambit"><span class="name constructor">ReqGambit</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.BackendRequirement"><span class="name type">BackendRequirement</span></a></code></dt></dl></dd><dt id="Test.Golden.checkRequirement"><code><a class="type" href="Test.Golden.html#Test.Golden.checkRequirement"><span class="name function">checkRequirement</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.BackendRequirement"><span class="name type">BackendRequirement</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span>)</code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.C"><code><a class="type" href="Test.Golden.html#Test.Golden.C"><span class="name function">C</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.Chez"><code><a class="type" href="Test.Golden.html#Test.Golden.Chez"><span class="name function">Chez</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.Node"><code><a class="type" href="Test.Golden.html#Test.Golden.Node"><span class="name function">Node</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.Racket"><code><a class="type" href="Test.Golden.html#Test.Golden.Racket"><span class="name function">Racket</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.Gambit"><code><a class="type" href="Test.Golden.html#Test.Golden.Gambit"><span class="name function">Gambit</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.findCG"><code><a class="type" href="Test.Golden.html#Test.Golden.findCG"><span class="name function">findCG</span></a>&ensp;:&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="name type">String</span>)</code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.Codegen"><code><span class="keyword">data</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Codegen"><span class="name type">Codegen</span></a>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd><pre>  A choice of a codegen</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructors</b>:<br><dl class="decls">  <dt id="Test.Golden.Nothing"><code><a class="type" href="Test.Golden.html#Test.Golden.Nothing"><span class="name constructor">Nothing</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Codegen"><span class="name type">Codegen</span></a></code></dt><dd><pre>  Do NOT pass a cg argument to the executable being tested</pre></dd>  <dt id="Test.Golden.Default"><code><a class="type" href="Test.Golden.html#Test.Golden.Default"><span class="name constructor">Default</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Codegen"><span class="name type">Codegen</span></a></code></dt><dd><pre>  Use whatever the test runner was passed at the toplevel,<br>  and if nothing was passed guess a sensible default using findCG</pre></dd>  <dt id="Test.Golden.Just"><code><a class="type" href="Test.Golden.html#Test.Golden.Just"><span class="name constructor">Just</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Codegen"><span class="name type">Codegen</span></a></code></dt><dd><pre>  Use exactly the given requirement</pre></dd></dl></dd><dt id="Test.Golden.codegenRequirement"><code><a class="type" href="Test.Golden.html#Test.Golden.codegenRequirement"><span class="name function">codegenRequirement</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Codegen"><span class="name type">Codegen</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.TestPool"><code><span class="keyword">record</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd><pre>  A test pool is characterised by<br>   + a name<br>   + a list of requirement<br>   + a choice of codegen (overriding the default)<br>   + and a list of directory paths</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructor</b>:&ensp;<dl class="decls"><dt id="Test.Golden.MkTestPool"><code><a class="type" href="Test.Golden.html#Test.Golden.MkTestPool"><span class="name constructor">MkTestPool</span></a>&ensp;:&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Codegen"><span class="name type">Codegen</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a></code></dt></dl><br>  <b>Projections</b>:<br><dl class="decls">  <dt id="Test.Golden.TestPool.(.codegen)"><code><span class="type resolved" title="Test.Golden.TestPool.(.codegen)"><span class="name function">.codegen</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Codegen"><span class="name type">Codegen</span></a></code></dt>  <dt id="Test.Golden.TestPool.(.constraints)"><code><span class="type resolved" title="Test.Golden.TestPool.(.constraints)"><span class="name function">.constraints</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt>  <dt id="Test.Golden.TestPool.(.poolName)"><code><span class="type resolved" title="Test.Golden.TestPool.(.poolName)"><span class="name function">.poolName</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span></code></dt>  <dt id="Test.Golden.TestPool.(.testCases)"><code><span class="type resolved" title="Test.Golden.TestPool.(.testCases)"><span class="name function">.testCases</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt></dl></dd><dt id="Test.Golden.TestPool.(.poolName)"><code><span class="type resolved" title="Test.Golden.TestPool.(.poolName)"><span class="name function">.poolName</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.TestPool.poolName"><code><span class="type resolved" title="Test.Golden.TestPool.poolName"><span class="name function">poolName</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.TestPool.(.constraints)"><code><span class="type resolved" title="Test.Golden.TestPool.(.constraints)"><span class="name function">.constraints</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.TestPool.constraints"><code><span class="type resolved" title="Test.Golden.TestPool.constraints"><span class="name function">constraints</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.TestPool.(.codegen)"><code><span class="type resolved" title="Test.Golden.TestPool.(.codegen)"><span class="name function">.codegen</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Codegen"><span class="name type">Codegen</span></a></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.TestPool.codegen"><code><span class="type resolved" title="Test.Golden.TestPool.codegen"><span class="name function">codegen</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Codegen"><span class="name type">Codegen</span></a></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.TestPool.(.testCases)"><code><span class="type resolved" title="Test.Golden.TestPool.(.testCases)"><span class="name function">.testCases</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.TestPool.testCases"><code><span class="type resolved" title="Test.Golden.TestPool.testCases"><span class="name function">testCases</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.testsInDir"><code><a class="type" href="Test.Golden.html#Test.Golden.testsInDir"><span class="name function">testsInDir</span></a>&ensp;:&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;{<span class="keyword">default</span>&ensp;(<span class="type resolved" title="Prelude.Basics.const"><span class="name function">const</span></span>&ensp;<span class="type resolved" title="Prelude.Basics.True"><span class="name constructor">True</span></span>)&ensp;<span class="boundvar">_</span>&ensp;:&ensp;(<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>)}&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;{<span class="keyword">default</span>&ensp;[]&ensp;<span class="boundvar">_</span>&ensp;:&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Requirement"><span class="name type">Requirement</span></a>}&ensp;<span class="keyword">-&gt;</span>&ensp;{<span class="keyword">default</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Nothing"><span class="name constructor">Nothing</span></a>&ensp;<span class="boundvar">_</span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Codegen"><span class="name type">Codegen</span></a>}&ensp;<span class="keyword">-&gt;</span>&ensp;Lazy&ensp;(<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>)</code></dt><dd><pre>  Find all the test in the given directory but only run them given any<br>  requirements specified are met.</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.filterTests"><code><a class="type" href="Test.Golden.html#Test.Golden.filterTests"><span class="name function">filterTests</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Only keep the tests that have been asked for</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.Summary"><code><span class="keyword">record</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd><pre>  The summary of a test pool run</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructor</b>:&ensp;<dl class="decls"><dt id="Test.Golden.MkSummary"><code><a class="type" href="Test.Golden.html#Test.Golden.MkSummary"><span class="name constructor">MkSummary</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a></code></dt></dl><br>  <b>Projections</b>:<br><dl class="decls">  <dt id="Test.Golden.Summary.(.failure)"><code><span class="type resolved" title="Test.Golden.Summary.(.failure)"><span class="name function">.failure</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt>  <dt id="Test.Golden.Summary.(.success)"><code><span class="type resolved" title="Test.Golden.Summary.(.success)"><span class="name function">.success</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt></dl><br>  <b>Hints</b>:<br><dl class="decls">  <dt id="$resolved440"><code><span class="type resolved" title="Prelude.Interfaces.Monoid"><span class="name type">Monoid</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a></code></dt>  <dt id="$resolved439"><code><span class="type resolved" title="Prelude.Interfaces.Semigroup"><span class="name type">Semigroup</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a></code></dt></dl></dd><dt id="Test.Golden.Summary.(.success)"><code><span class="type resolved" title="Test.Golden.Summary.(.success)"><span class="name function">.success</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Summary.success"><code><span class="type resolved" title="Test.Golden.Summary.success"><span class="name function">success</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Summary.(.failure)"><code><span class="type resolved" title="Test.Golden.Summary.(.failure)"><span class="name function">.failure</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.Summary.failure"><code><span class="type resolved" title="Test.Golden.Summary.failure"><span class="name function">failure</span></span>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Test.Golden.initSummary"><code><a class="type" href="Test.Golden.html#Test.Golden.initSummary"><span class="name function">initSummary</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a></code></dt><dd><pre>  A new, blank summary</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.updateSummary"><code><a class="type" href="Test.Golden.html#Test.Golden.updateSummary"><span class="name function">updateSummary</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Result"><span class="name function">Result</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a></code></dt><dd><pre>  Update the summary to contain the given result</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.bulkUpdateSummary"><code><a class="type" href="Test.Golden.html#Test.Golden.bulkUpdateSummary"><span class="name function">bulkUpdateSummary</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Result"><span class="name function">Result</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a></code></dt><dd><pre>  Update the summary to contain the given results</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.ThreadInstruction"><code><span class="keyword">data</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.ThreadInstruction"><span class="name type">ThreadInstruction</span></a>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd><pre>  An instruction to a thread which runs tests</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructors</b>:<br><dl class="decls">  <dt id="Test.Golden.Run"><code><a class="type" href="Test.Golden.html#Test.Golden.Run"><span class="name constructor">Run</span></a>&ensp;:&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.ThreadInstruction"><span class="name type">ThreadInstruction</span></a></code></dt><dd><pre>  A test to run</pre></dd>  <dt id="Test.Golden.Stop"><code><a class="type" href="Test.Golden.html#Test.Golden.Stop"><span class="name constructor">Stop</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.ThreadInstruction"><span class="name type">ThreadInstruction</span></a></code></dt><dd><pre>  An indication for the thread to stop</pre></dd></dl></dd><dt id="Test.Golden.testSender"><code><a class="type" href="Test.Golden.html#Test.Golden.testSender"><span class="name function">testSender</span></a>&ensp;:&ensp;<span class="type resolved" title="System.Concurrency.Channel"><span class="name type">Channel</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.ThreadInstruction"><span class="name type">ThreadInstruction</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;()</code></dt><dd><pre>  Sends the given tests on the given @Channel@, then sends `nThreads` many<br>  &apos;Stop&apos; @ThreadInstruction@s to stop the threads running the tests.<br>  <br>  @testChan The channel to send the tests over.<br>  @nThreads The number of threads being used to run the tests.<br>  @tests The list of tests to send to the runners/threads.</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.ThreadResult"><code><span class="keyword">data</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.ThreadResult"><span class="name type">ThreadResult</span></a>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd><pre>  A result from a test-runner/thread</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructors</b>:<br><dl class="decls">  <dt id="Test.Golden.Res"><code><a class="type" href="Test.Golden.html#Test.Golden.Res"><span class="name constructor">Res</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Result"><span class="name function">Result</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.ThreadResult"><span class="name type">ThreadResult</span></a></code></dt><dd><pre>  The result of running a test</pre></dd>  <dt id="Test.Golden.Done"><code><a class="type" href="Test.Golden.html#Test.Golden.Done"><span class="name constructor">Done</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.ThreadResult"><span class="name type">ThreadResult</span></a></code></dt><dd><pre>  An indication that the thread was told to stop</pre></dd></dl></dd><dt id="Test.Golden.testReceiver"><code><a class="type" href="Test.Golden.html#Test.Golden.testReceiver"><span class="name function">testReceiver</span></a>&ensp;:&ensp;<span class="type resolved" title="System.Concurrency.Channel"><span class="name type">Channel</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.ThreadResult"><span class="name type">ThreadResult</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Concurrency.Channel"><span class="name type">Channel</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;()</code></dt><dd><pre>  Receives results on the given @Channel@, accumulating them as a @Summary@.<br>  When all results have been received (i.e. @nThreads@ many &apos;Done&apos;<br>  @ThreadInstruction@s have been encountered), send the resulting Summary over<br>  the @accChan@ Channel (necessary to be able to @fork@ this function and<br>  still obtain the Summary at the end).<br>  <br>  @resChan The channel to receives the results on.<br>  @acc The Summary acting as an accumulator.<br>  @accChan The Channel to send the final Summary over.<br>  @nThreads The number of threads being used to run the tests.</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.poolRunner"><code><a class="type" href="Test.Golden.html#Test.Golden.poolRunner"><span class="name function">poolRunner</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Summary"><span class="name type">Summary</span></a></code></dt><dd><pre>  A runner for a test pool. If there are tests in the @TestPool@ that we want<br>  to run, spawns `opts.threads` many runners and sends them the tests,<br>  collecting all the results in the @Summary@ returned at the end.<br>  <br>  @opts The options for the TestPool.<br>  @pool The TestPool to run.</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.runnerWith"><code><a class="type" href="Test.Golden.html#Test.Golden.runnerWith"><span class="name function">runnerWith</span></a>&ensp;:&ensp;<a class="type" href="Test.Golden.html#Test.Golden.Options"><span class="name type">Options</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;()</code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Test.Golden.runner"><code><a class="type" href="Test.Golden.html#Test.Golden.runner"><span class="name function">runner</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<a class="type" href="Test.Golden.html#Test.Golden.TestPool"><span class="name type">TestPool</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;()</code></dt><dd><pre>  A runner for a whole test suite</pre><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd></dl></div><footer>Produced by Idris 2 version 0.7.0-73bb183cc</footer></body></html>